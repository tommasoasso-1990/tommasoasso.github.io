<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Opere — Tommaso Asso</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <aside class="sidebar">
    <a class="brand" href="index.html">Tommaso<br>Asso</a>
    <nav class="nav">
      <a href="index.html">Opere</a>
      <a href="mostre.html">Mostre</a>
      <a href="info.html">Info</a>
    </nav>
    <div class="lang">
      <a class="active" href="index.html">IT</a>
      <a href="en/index.html">EN</a>
    </div>
    <div class="site-footer">© <span id="year-it"></span> Tommaso Asso</div>
  </aside>

  <main class="content">
    <div class="wrap">
      <h1 class="page-title">Opere</h1>

      <section class="grid">

        <figure class="card">
          <img src="images/2024-80x100.jpg" alt="2024 — 80×100 cm">
          <figcaption>
            <strong>2024</strong>
            <span class="meta">80×100 cm · 2024</span>
          </figcaption>
        </figure>

        <figure class="card">
          <img src="images/città-blu-90x70.jpg" alt="Città blu — 90×70 cm, 2021">
          <figcaption>
            <strong>Città blu</strong>
            <span class="meta">90×70 cm · 2021</span>
          </figcaption>
        </figure>

        <figure class="card">
          <img src="images/città-del-nord-50x70.jpg" alt="Città del nord — 50×70 cm, 2024">
          <figcaption>
            <strong>Città del nord</strong>
            <span class="meta">50×70 cm · 2024</span>
          </figcaption>
        </figure>

        <figure class="card">
          <img src="images/volterra-50x70.jpg" alt="Volterra — 50×70 cm, 2024">
          <figcaption>
            <strong>Volterra</strong>
            <span class="meta">50×70 cm · 2024</span>
          </figcaption>
        </figure>

        <figure class="card">
          <img src="images/città-sul-fiume-100x120.jpg" alt="Città sul fiume — 100×120 cm, 2024">
          <figcaption>
            <strong>Città sul fiume</strong>
            <span class="meta">100×120 cm · 2024</span>
          </figcaption>
        </figure>

        <figure class="card">
          <img src="images/finestra-30x80.jpg" alt="Finestra — 30×80 cm, 2024">
          <figcaption>
            <strong>Finestra</strong>
            <span class="meta">30×80 cm · 2024</span>
          </figcaption>
        </figure>

        <figure class="card">
          <img src="images/la-città-lontana-50x60.jpg" alt="La città lontana — 50×60 cm, 2024">
          <figcaption>
            <strong>La città lontana</strong>
            <span class="meta">50×60 cm · 2024</span>
          </figcaption>
        </figure>

        <figure class="card">
          <img src="images/il-fumatore-70x50.jpg" alt="Il fumatore — 70×50 cm, 2023">
          <figcaption>
            <strong>Il fumatore</strong>
            <span class="meta">70×50 cm · 2023</span>
          </figcaption>
        </figure>

        <figure class="card">
          <img src="images/pianista-con-gallo-70x50.jpg" alt="Pianista con gallo — 70×50 cm, 2023">
          <figcaption>
            <strong>Pianista con gallo</strong>
            <span class="meta">70×50 cm · 2023</span>
          </figcaption>
        </figure>

        <figure class="card">
          <img src="images/portico-30x25.jpg" alt="Portico — 30×25 cm, 2023">
          <figcaption>
            <strong>Portico</strong>
            <span class="meta">30×25 cm · 2023</span>
          </figcaption>
        </figure>

        <figure class="card">
          <img src="images/ricordo-di-una-città-30x25.jpg" alt="Ricordo di una città — 30×25 cm, 2023">
          <figcaption>
            <strong>Ricordo di una città</strong>
            <span class="meta">30×25 cm · 2023</span>
          </figcaption>
        </figure>
        
<figure class="card">
  <img src="images/vienna-50x70.jpg" alt="Vienna — 50×70 cm, 2024">
  <figcaption>
    <strong>Vienna</strong>
    <span class="meta">50×70 cm · 2024</span>
  </figcaption>
</figure>

      </section>
    </div>
  </main>

  <!-- LIGHTBOX -->
  <figure class="lightbox" id="lb-it" aria-hidden="true">
    <button class="nav-btn prev" aria-label="Precedente">←</button>
    <img alt="">
    <figcaption></figcaption>
    <button class="nav-btn next" aria-label="Successiva">→</button>
  </figure>

  <script>
    // anno footer
    document.getElementById('year-it').textContent = new Date().getFullYear();

    // lightbox
    (function(){
      const lb  = document.getElementById('lb-it');
      const big = lb.querySelector('img');
      const cap = lb.querySelector('figcaption');
      const prev= lb.querySelector('.prev');
      const next= lb.querySelector('.next');

      const cards = Array.from(document.querySelectorAll('.grid .card'));
      const items = cards.map(c => ({
        src: c.querySelector('img').src,
        captionHTML: c.querySelector('figcaption').innerHTML
      }));

      let i = 0;
      function render(){ big.src = items[i].src; cap.innerHTML = items[i].captionHTML; }
      function open(n){ i=n; render(); lb.classList.add('open'); document.body.style.overflow='hidden'; }
      function close(){ lb.classList.remove('open'); document.body.style.overflow=''; }
      function nextI(){ i = (i+1) % items.length; render(); }
      function prevI(){ i = (i-1+items.length) % items.length; render(); }

      cards.forEach((c,idx) => c.querySelector('img').addEventListener('click', () => open(idx)));
      lb.addEventListener('click', e => { if (e.target === lb) close(); });
      next.addEventListener('click', e => { e.stopPropagation(); nextI(); });
      prev.addEventListener('click', e => { e.stopPropagation(); prevI(); });
      document.addEventListener('keydown', e => {
        if (!lb.classList.contains('open')) return;
        if (e.key === 'Escape') close();
        if (e.key === 'ArrowRight') nextI();
        if (e.key === 'ArrowLeft') prevI();
      });
    })();
  </script>
</body>
</html>
